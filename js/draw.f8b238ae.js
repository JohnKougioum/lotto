(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["draw"],{"2be2":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md:flex flex-row md:m-20"},[n("div",{staticClass:"flex md:w-1/3 justify-center items-center flex-wrap"},t._l(this.randomBallsList,(function(t,e){return n("RandomBall",{key:e,attrs:{index:e,rnumber:t.number,picked:!1,tempBallArray:[]}})})),1),n("div",{staticClass:"opacity-0 md:flex items-center bg-yellow-300 rounded text-lg h-20 justify-center md:w-1/3",class:t.winning?"winbet__animation":""},[t._v("!!! Winning Bet !!!")]),n("div",{staticClass:"flex flex-col md:w-1/3 justify-center flex-wrap"},[n("h1",{staticClass:"text-lg pb-4"},[t._v("Your Bet!")]),n("div",{staticClass:"flex md:mb-10 justify-center flex-wrap"},t._l(this.getPickedNumbers,(function(e,i){return n("RandomBall",{key:i,attrs:{index:i,rnumber:e.number,picked:!0,tempBallArray:t.randomBallsList}})})),1),n("div",{staticClass:"text-xl"},[t._v("You have won: "+t._s(t.winninePrize)+"€")])]),n("transition",{attrs:{name:"modalGrow"}},[this.getDrawPhase?t._e():n("TheModal")],1)],1)},s=[],r=n("5530"),a=(n("d3b7"),n("159b"),n("2f62")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative cursor-pointer select-none items-center m-3 p-2 border-2 h-11 w-11 border-black rounded-full  hover:bg-gray-300 duration-75",class:t.highlight?"bg-yellow-300":""},[n("span",[t._v(t._s(t.rnumber))])])},o=[],u=(n("a9e3"),{name:"RandomBall",props:{rnumber:Number,picked:Boolean,tempBallArray:Array},computed:{highlight:function(){return this.checkHightlight(this.rnumber)}},methods:{checkHightlight:function(t){if(1==this.picked)return!!this.tempBallArray.some((function(e){return e.number==t}))}}}),c=u,h=n("2877"),m=Object(h["a"])(c,l,o,!1,null,null,null),d=m.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fixed z-0 left-0 top-0 w-full h-full bg-black bg-opacity-40"},[n("div",{staticClass:"absolute flex flex-col top-2/4 left-2/4 transform -translate-x-1/2 -translate-y-1/2\n     bg-white w-5/6 md:w-2/3 h-2/3 p-5 md:h-2/4"},[n("div",{staticClass:"relative h-full w-full"},[n("div",{staticClass:"h-2/3 flex justify-evenly flex-col"},[t._m(0),t.check_if_prize?n("div",[t._v(" You won "+t._s(this.getFinalResults.prize)+"€ ")]):t._e()]),n("div",{staticClass:"h-1/3 w-full flex justify-between items-center md:px-10 relative"},[n("button",{staticClass:"bottom-1/2 h-1/3 md:px-2 py-1 bg-indigo-600 rounded text-white hover:bg-indigo-700 duration-75",on:{click:t.gotoHome}},[t._v("Go Back")]),n("button",{staticClass:" bottom-1/2 h-1/3 md:px-2 py-1 text-sm md:text-lg bg-green-600 rounded text-white hover:bg-green-700 duration-75",on:{click:t.saveHistory}},[t._v("Save to History")])])])])])},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"md:text-2xl pt-5"},[t._v("Thank you for playing!")])])}],g=n("66ce"),p=n("ea7b"),v={name:"TheModal",computed:Object(r["a"])({check_if_prize:function(){return!!this.getFinalResults.prize}},Object(a["c"])(["getFinalResults"])),methods:Object(r["a"])({saveHistory:function(){var t=Object(g["a"])(),e=Object(p["b"])(),n=e.currentUser.uid,i=Object(g["f"])(t,"history/"+n+"/"),s=Object(g["d"])(i);Object(g["h"])(s,{timestamp:this.getFinalResults.timestamp,drawNumbers:this.getFinalResults.drawNumbers,playerBet:this.getFinalResults.betNumbers,prizeWon:this.getFinalResults.prize}),this.gotoHome()},gotoHome:function(){this.emptyPickedNumber(),this.$router.push({name:"Home"})}},Object(a["b"])(["emptyPickedNumber"]))},w=v,x=Object(h["a"])(w,b,f,!1,null,null,null),y=x.exports,_={name:"Draw",components:{RandomBall:d,TheModal:y},data:function(){return{randomBallsList:[],highlighted__prop:!1,tempBetCount:0,winningPrize:0}},created:function(){var t=this;setTimeout((function(){t.drawNumbers()}),3e3)},computed:Object(r["a"])(Object(r["a"])({},Object(a["c"])(["getDrawPhase","getPickedNumbers","getBetCount"])),{},{winning:function(){return this.getBetCount>=3},winninePrize:function(){return this.calculatePrize()}}),beforeRouteLeave:function(t,e,n){if(0!=this.getDrawPhase)return!1;n()},methods:Object(r["a"])({drawNumbers:function(){var t=this,e=Math.floor(30*Math.random())+1;this.randomBallsList.push({number:e,highlighted:!1}),this.checkIncrBetCount(e);var n=0,i=setInterval((function(){n++;var e=Math.floor(30*Math.random())+1;while(t.randomBallsList.some((function(t){return t.number==e})))e=Math.floor(30*Math.random())+1;t.checkIncrBetCount(e),t.randomBallsList.push({number:e,highlighted:!1}),4==n&&(t.saveHistory(),setTimeout((function(){var e=!1;t.setDrawPhase({isDrawing:e})}),1100),clearInterval(i))}),4e3)},checkIncrBetCount:function(t){this.getPickedNumbers.some((function(e){return e.number==t}))&&this.tempBetCount++;var e=this.tempBetCount;this.setBetCount({betCount:e})},calculatePrize:function(){var t;switch(this.getBetCount){case 3:t=5;break;case 4:t=10;break;case 5:t=20;break;default:t=0}return t},saveHistory:function(){var t=[],e=[];this.randomBallsList.forEach((function(e){t.push(e.number)})),this.getPickedNumbers.forEach((function(t){e.push(t.number)}));var n=this.calculatePrize(),i=new Date,s=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),r=i.getHours()+":"+i.getMinutes()+":"+i.getSeconds(),a=s+" "+r,l={timestamp:a,drawNumbers:t,betNumbers:e,prize:n};this.setFinalResults({results:l})}},Object(a["b"])(["setBetCount","setFinalResults","setDrawPhase"]))},B=_,k=(n("8975"),Object(h["a"])(B,i,s,!1,null,"4c88829e",null));e["default"]=k.exports},8975:function(t,e,n){"use strict";n("d7f7")},d7f7:function(t,e,n){}}]);
//# sourceMappingURL=draw.f8b238ae.js.map